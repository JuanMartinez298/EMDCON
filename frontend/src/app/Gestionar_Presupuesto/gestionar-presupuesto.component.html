<div class="form-group mb-5">
    <label>Gestionar Presupuestos {{presupuestos.length}}</label>

    <div class="card">
        <div class="card-header text-uppercase" name="mes" [(ngModel)]="presupuesto.mes">Seleccionar Mes</div>
        <div class="card-body">
            <div>
                <input type="text" id="mes" class="form-control" name="mes" [(ngModel)]="presupuesto.mes" placeholder="Buscar Mes ...." #mes>
            </div>
            <form>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Enero')" (click)="calculardatosE()" (click)="calculardatosTotalEgresos()" (click)="calculardatosTotalIngresos()">ENERO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Febrero')" (click)="calculardatosF()">FEBRERO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Marzo')">MARZO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Abril')">ABRIL</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Mayo')">MAYO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Junio')">JUNIO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Julio')">JULIO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Agosto')">AGOSTO</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Septiembre')">SEPTIEMBRE</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Octubre')">OCTUBRE</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Noviembre')">NOVIEMBRE</button>
                <button class="btn btn-primary m-1" name="mes" [(ngModel)]="presupuesto.mes" (click)="escribir('Diciembre')">DICIEMBRE</button>
            </form>
        </div>
    </div>
    <button type="button" class="btn btn-outline-primary" routerLink="nuevo" style="margin-bottom: 10px; float: right;">
      <i class="mdi mdi-pencil mdi-18px">Agregar Asunto</i>
    </button>
    <div>
        <!--      <table class="table table-striped table-hover border border">
            <div class="table-responsive"> -->
        <table class="table table-striped table-hover border border">
            <thead style="color: black;">
                <tr>
                    <th class="text-center">Asunto</th>
                    <th class="text-center">Mes</th>
                    <th class="text-center">Fecha de Pago</th>
                    <th class="text-center">Monto Aproximado</th>
                    <th class="text-center">Estado</th>
                    <th class="text-center">Tipo Asunto</th>
                    <th class="text-center">Accion</th>
                </tr>

            </thead>
            <tbody>
                <tr *ngFor="let p of presupuestos | filterBy: presupuesto">
                    <td>
                        <ng-container *ngIf="p.asunto==0">
                            <span>Pago de mantenimiento</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==1">
                            <span>Pago de servicios de luz</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==2">
                            <span>Pago de servicios de agua</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==3">
                            <span>Mantenimiento de ascensor</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==4">
                            <span>Pago de personal</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==5">
                            <span>Pago de administrador</span>
                        </ng-container>
                        <ng-container *ngIf="p.asunto==6">
                            <span>Otros pagos</span>
                        </ng-container>
                    </td>
                    <td class="text-center">{{p.mes}}</td>
                    <td class="text-center">{{p.fechaPago | date:'dd/MM/yyyy'}}</td>
                    <td class="text-center">S/ {{p.monto}}</td>
                    <td>
                        <ng-container *ngIf="p.estado==0">
                            <span>Por Pagar</span>
                        </ng-container>
                        <ng-container *ngIf="p.estado==1">
                            <span>Pagado</span>
                        </ng-container>
                    </td>
                    <td>
                        <ng-container *ngIf="p.tipoAsunto==0">
                            <span>Ingreso</span>
                        </ng-container>
                        <ng-container *ngIf="p.tipoAsunto==1">
                            <span>Egreso</span>
                        </ng-container>
                    </td>
                    <td class="text-center">
                        <!-- <button class="btn btn-success btn-sm btn-block" routerLink="/nuevopresupuesto"> -->
                        <button class="btn btn-success btn-sm btn-block" [routerLink]="['editar', p._id]">
              <i class="mdi mdi-update mdi-18px">Actualizar</i>
            </button>
                    </td>
                </tr>
                <tr>
                    <tr>
                    </tr>
                    <tr>
                        <td>Total de Ingresos:</td>
                        <td>
                            S/ {{ Ingresos | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Total de Egresos:</td>
                        <td>
                            S/ {{ Egresos | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Presupuesto Total:</td>
                        <td>
                            S/ {{ Ingresos+Egresos | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Pago de Mantenimiento:</td>
                        <td>
                            S/ {{ Mantenimiento | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Pago de Servicio de Luz:</td>
                        <td>
                            S/ {{ Luz | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Pago de Servicio de Agua:</td>
                        <td>
                            S/ {{ Agua | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Pago de Mantenimiento Ascensor:</td>
                        <td>
                            S/ {{ Otros | currency:' '}}
                        </td>
                    </tr>
                    <tr>
                        <td>Pago Total de Departamento:</td>
                        <td>
                            S/ {{ (Mantenimiento+Agua+Luz+Otros)/51 | currency:' '}}
                        </td>
                    </tr>
            </tbody>
        </table>
        <!--   </div>
        </table> -->
    </div>
</div>

<!-- Prueba de Calculos-->